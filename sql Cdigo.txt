alter table grupo_funcional drop column descripcion 
alter table grupo_funcional add codigo_Gfuncional varchar(10),nombre_Gfuncional varchar(100)

alter table funcion drop column id_funcion 
alter table funcion add id_funcion identity(1,1)
/*procedimientos para funcion*/ 
create procedure sp_Funcion_r
as
select * from funcion

create procedure sp_Funcion_c
(
@codigo_funcion varchar(10),
@nombre_funcion varchar(100)
)
as
insert  into funcion values (@codigo_funcion,@nombre_funcion)

create procedure sp_Funcion_u
(
@id_funcion int,
@codigo_funcion varchar(10),
@nombre_funcion varchar(100)
)
as
BEGIN
	update funcion set
	 codigo_funcion=@codigo_funcion,
	 nombre_funcion=@nombre_funcion 
	 where  id_funcion=@id_funcion
END

/*proceminetos para division  funcional*/
create procedure sp_Division_funcional_r
as
select* from  division_funcional as d   inner join  funcion as f on d.id_funcion=f.id_funcion

create procedure   sp_Division_funcional_c
(
 @id_funcion int,
 @codigo_dfuncional varchar(10),
 @nombre_dFuncional varchar(100)
)
as
BEGIN
   INSERT INTO division_funcional values(@id_funcion,@codigo_dfuncional, @nombre_dFuncional)
END

/* ACTUALIZAR LA DIVISION  FUNCIONAL */

create procedure sp_Division_funcional_u
(
 @id_division_funcional int,
 @id_funcion int,
 @codigo_dfuncional varchar(10),
 @nombre_dFuncional varchar(100)
)
as
begin 
  update division_funcional set
  id_funcion= @id_funcion,
  codigo_dfuncional= @codigo_dfuncional,
  nombre_dFuncional=nombre_dFuncional
  where id_division_funcional=@id_division_funcional
end

/* procedimientos para grupo funcional*/

create procedure sp_grupo_funcional_r
as
select* from grupo_funcional as gr inner join division_funcional df on gr.id_division_funcional=df.id_division_funcional inner join sector s on gr.id_sector=s.id_sector

create procedure sp_grupo_funcional_c
(
@id_division_funcional int,
@id_sector int,
@codigo_Gfuncional varchar(10),
@nombre_Gfuncional varchar(100)
)
as
begin 
insert into grupo_funcional values (@id_division_funcional,@id_sector,@codigo_Gfuncional,@nombre_Gfuncional)
end

create procedure sp_grupo_funcional_u
(
@id_grupo_funcional int,
@id_division_funcional int,
@id_sector int,
@codigo_Gfuncional varchar(10),
@nombre_Gfuncional varchar(100)
)
as
begin 
update grupo_funcional set 
id_division_funcional=@id_division_funcional, 
id_sector=@id_sector,
codigo_Gfuncional=@codigo_Gfuncional,
nombre_Gfuncional=@nombre_Gfuncional
where id_grupo_funcional=@id_grupo_funcional
end 









